# 👨‍💻 개발 일지 (Development Log)

## 프로젝트: 대구교통공사 3호선 전력관제 장애 관리 통합 플랫폼 (Open Source Edition)

### � 작성자 (Author)
- **소속:** 대구교통공사 3호선 경전철관제팀 전력관제
- **성명:** 강동우
- **비고:** 본 문서는 개발자 개인의 연구 및 학습 결과물이며, 대구교통공사의 공식 입장이 아님을 밝힙니다.

### �📅 프로젝트 타임라인 및 비하인드 스토리

본 프로젝트는 2025년 4월부터 2026년 1월까지, 약 9개월간의 치열한 개발 과정을 거쳐 완성되었습니다. 단순한 기능 구현을 넘어, 현장의 열악한 하드웨어 환경과 실무의 필요성을 반영하며 진화해온 기록입니다.

#### 1. 태동기: 데이터 디지털화와 초기 모델 (2025.04 ~ 2025.06)
- **개발 시작 (2025.04):** 수년간 쌓인 HWP 형식의 장애 보고서를 데이터베이스(DB)로 변환하는 작업부터 시작했습니다. 2달간의 코딩과 수작업 끝에 비정형 데이터를 정형화하는 데 성공했습니다.
- **하드웨어의 한계와 최적화:**
  - 초기에는 LSTM -> KNN -> 선형회귀로 이어지는 파이프라인을 구상했으나, 사내 PC 사양(i3-13100, No GPU)의 한계에 봉착했습니다.
  - 처리 속도와 경량화를 위해 **GRU(Gated Recurrent Unit)와 KNN**을 주축으로 하는 시계열 예측 모델로 설계를 변경하여 최적화했습니다.
- **초도품 완성 (2025.06.15):** '장애 예측'과 '장애 보고서 조회' 기능이 탑재된 프로토타입이 완성되었습니다. 당시 목표는 예측된 장애 상황을 바탕으로 이미지 트레이닝(Image Training)을 하는 것이었습니다.

#### 2. 확장기: 시뮬레이터 개발과 훈련 시스템 구축 (2025.07 ~ 2025.08)
- **시뮬레이터 개발의 계기:** 전력관제 최고 숙련자로서 신규 전입자 교육을 진행하던 중, 말로 하는 교육의 한계를 느끼고 시각적인 훈련 도구의 필요성을 절감했습니다.
- **Inkscape 독학 및 제작:**
  - 벡터 그래픽 툴인 Inkscape를 2주간 독학하여 본선 계통 시뮬레이터를 직접 그렸습니다.
  - **협업과 주도:** 후배인 이건희 주임이 경보음 및 다양한 장애 시나리오 기능에 대한 핵심 아이디어를 제안하고 초기 구현에 기여했습니다. 이를 바탕으로 제가 전체적인 로직 안정화와 최종 구현을 주도하여 시뮬레이터의 완성도를 높였습니다.
- **광속 개발:** 본선 시뮬레이터의 노하우를 바탕으로, 8월 말에는 AC 전체 계통의 1/2을 1주일 만에, 나머지 2/2를 단 3일 만에 완성하는 기염을 토했습니다.
- **(참고):** 본 배포판에 포함된 시뮬레이터는 보안 문제로 인해 실제 계통도를 사용할 수 없어, **배포 당일(2026.01.04) 1시간 만에 새로 제작한 간소화된 샘플 버전**입니다.

#### 3. 통합기: 플랫폼화와 AI 고도화 (2025.09 ~ 2025.10)
- **통합 플랫폼 완성:** 9월, 개별적으로 존재하던 시뮬레이터와 예측/분석 도구를 하나로 합쳐 '장애 관리 통합 플랫폼'을 구축했습니다.
- **Local LLM의 한계 극복 (RAG + Fine-tuning):**
  - 초기 Local LLM은 답변이 부정확했습니다. 이를 해결하기 위해 **파인튜닝(Fine-tuning)**과 **RAG(검색 증강 생성)**를 결합하여 시너지를 내는 전략을 수립했습니다.
  - **모델 선정 과정:**
    - `gemma-3n-4eb`: 처리 속도 저하 문제.
    - `kanana`: 모델 미완성으로 사용 불가.
    - **최종 선정:** `hf.co/unsloth/gemma-3n-E4B-it-GGUF:Q4_K_M` 모델을 실무용으로 채택했으나, 배포 및 시연용으로는 속도가 빠른 **E2B** 모델을 사용하기로 결정했습니다.
  - 이 시기에 구축된 데이터셋을 기반으로 '지식 검색 시스템'이 플랫폼에 추가되었습니다.

#### 4. 시련과 성숙: 경진대회와 챗봇 완성 (2025.11 ~ 2026.01)
- **AI 아이디어 경진대회 (2025.11):**
  - 사장님 지시로 부서 대표로 출품되었고 실제 완성된 프로그램이었으나, 관련 서류 제출 미비로 아쉽게 탈락했습니다. (타 부서의 OpenCV 교각 번호 인식 컨셉이 수상)
  - **당시 상태:** 장애 분석기, 예측기, 시뮬레이터, 보고서 뷰어, 지식 검색기 등 **모든 핵심 기능이 통합된 완성형 플랫폼**이었으며, 단지 대화형 챗봇 인터페이스만 미구현된 상태였습니다.
- **GraphRAG 챗봇 완성 (2026.01.03):**
  - 탈락의 아쉬움을 뒤로하고 개발을 지속하여, 어제(1월 3일) **GraphRAG** 기술이 적용된 챗봇을 완성함으로써 시스템의 마지막 퍼즐을 맞췄습니다.
- **배포 (2026.01.04):** 이제 완성된 시스템을 누구나 쉽게 사용할 수 있도록 모듈화하여 오픈소스로 배포합니다.

#### 5. 차기 프로젝트 계획 (Next Step)
- **고도화 계획:** 현재의 오픈소스 버전을 넘어, 비용을 투자하여 더욱 정교하고 강력한 시스템을 구축할 예정입니다.
- **핵심 목표:**
  - 적절한 고성능 **Local LLM** 선정.
  - 전문적인 데이터셋을 구축하고 이를 기반으로 한 **정밀 파인튜닝(Fine-tuning)** 수행.
  - 이를 통해 실무에서 즉시 활용 가능한 수준의 **초고품질 답변 시스템** 구현.

#### 6. 프로젝트 철학 및 성과 (Philosophy & Value)
- **핵심 철학: "장애는 100% 예방할 수 없다. 그러나 100% 대비할 수는 있다."**
  - 전력관제 시스템에서 예방 정비만으로는 돌발적인 장애를 완벽히 회피할 수 없습니다.
  - 본 프로젝트의 지향점은 **"어떤 장애라도 발생 가능성이 있다면 사전에 예측하고, 이를 시뮬레이터로 훈련하여 실제 상황에서의 대응 속도와 정확도를 극대화하는 것"**입니다.
- **기술적 전략: 적응형 예측 파이프라인**
  - 데이터 샘플 수와 조건에 따라 **GRU(딥러닝), KNN, 선형회귀, 평균법**을 유동적으로 배치하는 파이프라인을 구축했습니다.
  - 이를 통해 연간 장애 발생을 정량적으로 예측하고, 그 결과를 훈련 시나리오로 직결시킵니다.
- **공공분야의 제약 극복 및 예산 절감**
  - **저사양 최적화:** 예산 집행이 경직된 공기업 특성상, 고성능 장비 도입이 어려운 현실을 반영하여 **i3-13100, No GPU** 환경에서도 원활히 돌아가도록 극한의 최적화를 수행했습니다.
  - **1인 개발의 성과:** 통상적으로 수억 원의 비용이 소요될 수 있는 통합 관제 플랫폼 구축을 **1인 개발(Solo Development)**로 완수하여 막대한 예산을 절감했습니다.

---

### 📝 기술 스택 (Tech Stack)

| 구분 | 기술 | 비고 |
| :--- | :--- | :--- |
| **Core** | Python 3.8+, Node.js | |
| **AI/LLM** | Ollama, Gemma 2 (E2B/E4B) | Unsloth Fine-tuned |
| **RAG** | GraphRAG, ChromaDB | 지식 검색 및 챗봇 |
| **ML/DL** | PyTorch (GRU), Scikit-learn (KNN) | 저사양 최적화 (i3-13100) |
| **Frontend** | HTML5, Vanilla JS, Inkscape (SVG) | 시뮬레이터 자체 제작 |

---
---

### 🎉 2026-01-11: 통합 플랫폼 주요 업데이트

#### 파인튜닝 모델 공개
통합 플랫폼의 장애 분석 기능이 대폭 강화되었습니다.

- **모델명**: `Smoothie-Qwen3-8B-DTRO-Edition`
- **허깅페이스**: [bluejude10/Smoothie-Qwen3-8B-DTRO-Edition](https://huggingface.co/bluejude10/Smoothie-Qwen3-8B-DTRO-Edition)
- **특징**: 전력계통 장애 분석 전문 파인튜닝 모델
- **성과**: Gemma-3n 대비 우수한 분석 정확도 및 전문성

#### 프로젝트 전체 영향
본 모듈은 통합 플랫폼의 일부로서, 파인튜닝 모델과 함께 사용 시 더욱 정교한 장애 관리 시스템을 구축할 수 있습니다.

자세한 내용은 [통합 플랫폼 저장소](https://github.com/aremany/DTRO-Integrated-Platform)를 참고하세요.

---

*최종 업데이트: 2026년 1월 11일*